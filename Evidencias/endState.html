<head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<meta name="GENERATOR" content="IBM WebSphere Studio">


<style>


html, body {
	height: 100%;
	}

#divTudo {
	min-height: 100%;
	position: relative;

	}

* html #divTudo {
	height: 100%; /* hack para IE6 que trata height como min-height */
	}


#janela {

	BORDER: #555 1px solid;
	
	 WIDTH: 100%; 

	 bottom: 0;
}
#barra {

	 WIDTH: 100%;
	  BACKGROUND: #E0E0E0;
	  HEIGHT: 18px;
	   BORDER-TOP: #E0E0E0 1px solid; 

}
#barra span {
	PADDING-BOTTOM: 2px; 
	MARGIN: 0px; 
	PADDING-LEFT: 5px;
	 PADDING-RIGHT: 5px;
	font-weight:bold;
	font-size:11px;
	  FLOAT: left; 
	  COLOR: #555;
	  PADDING-TOP: 2px;
}
#barra A {

	    COLOR: #555;
	     TEXT-DECORATION: none; 
	 
}

.html5{
	width: 72px;
	height: 20px;
	background: url(resources/upload/procurar.PNG);
	overflow: hidden;
	float: left;
	cursor: default;
}

.html5 input{
   margin: 0;
   opacity: 0;   
   font-size: 100px;
   cursor: default;
}

input[type="file"] { display: none; }

</style>

	<title>Upload de Documentos - 553.2021.2164.1</title>
	<link href="resources/upload/default.css" rel="stylesheet" type="text/css">
	<link href="/visual/trs/padrao_portal_novo.css" rel="stylesheet" type="text/css">

	<script language="JavaScript" type="text/javascript" src="resources/js/uploadUtils.js?version=9.9.5-FAST"></script>
	<script language="JavaScript1.2" type="text/javascript" src="resources/js/ajax.js?version=9.9.5-FAST"></script>
	<script language="JavaScript" type="text/javascript" src="resources/js/querystring.js?version=9.9.5-FAST"></script>	
	<script language="JavaScript" type="text/javascript" src="resources/js/ajax.js?version=9.9.5-FAST"></script>

	<script type="text/javascript" src="resources/upload/swfupload/swfupload.js?version=9.9.5-FAST"></script>
	<script type="text/javascript" src="resources/upload/js/fileprogress.js?version=9.9.5-FAST"></script>
	<script type="text/javascript" src="resources/upload/js/handlers.js?version=9.9.5-FAST"></script>
	<script type="text/javascript" src="resources/upload/js/upload-file-controller.js?version=9.9.5-FAST"></script>
	<script type="text/javascript" src="resources/js/jquery.min.js?version=9.9.5-FAST"></script>
	<script type="text/javascript" src="resources/js/jquery.soap.js?version=9.9.5-FAST"></script>
	<script type="text/javascript" src="resources/js/jquery.xml2json.js?version=9.9.5-FAST"></script>
	
	<script type="text/javascript">
		window.defaultStatus = "Porto Seguro - Upload de Documentos do Sinistro";
		this.top.document.title = this.top.document.title + " - " +
										553 + "." + 
										2021 + "." +
										2164 + "." +
										1;
		var swfu;
		//Inclusão de parametro "token" para utilização do webservice FileService - F0122886 - DAYANE MOREIRA
		var GLOBALS = {fotosUpload: [],
			   		   divUpload: "fsUploadProgress",
			   		   destinationFilePath: "//nt2976/sinistro/PastaDigital/temp/",
			   		   endpointWS: "https://hml.portoseguro.com.br/FileSystemServiceAutomovel/api/filesystem/gravararquivo",
			   		   htmlHabilitado: "true",
			   		   token: "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJhcGxpY2FjYW8iOiJyZWd1bGFjYW9zaW5pc3Ryb2F1dG8iLCJjZW50cm9jdXN0byI6IjExNjcyIiwib3JpZ2VtdXRpbGl6YWNhbyI6ImZpbGVzeXN0ZW0iLCJ0aXBvdXRpbGl6YWNhbyI6InVwbG9hZCIsIi5leHAiOjYzNzgwMTg2MjIyNDEzMzc4NX0.oEIUgxsDOX0dlYKqi7sebVbvVmCq44AWCtel8camd6o",
			   		   totalArqsEnviados: 0 };
		var numeradorArqs = 1;

		window.onload = function(){
				
			if (validaNavegador()){
				//jQuery("#swfuploadControlNotaFiscal").hide();

			  	var uploadFileController = new UploadFileController();
		  		
		  		uploadFileController.tamanhoPermitidoUpload = 9.77; // (10000 KB / 1024)
		  		uploadFileController.tipoPermitidoUpload = "*.doc;*.docx;*.jpg;*.pdf;*.png;*.bmp;*.jpeg";
		  		uploadFileController.idComponenteFileUpload = "#envioDocsFileUpload";
		  		uploadFileController.limitePermitidoUpload = 20;
		  		
		  		var old_element = document.getElementById("envioDocsFileUpload");
				var new_element = old_element.cloneNode(true);
				old_element.parentNode.replaceChild(new_element, old_element);
		  		
		  		new_element.addEventListener('change', function(e) {uploadFileController.handleFileSelect(e);}, false);
					
			} else {
				jQuery("#componenteUploadDocsHTML5").hide();

				var settings = {
						flash_url : "/UploadService/SwfUpload/swfupload.swf",
						flash9_url : "/UploadService/SwfUpload/swfupload_fp9.swf",
						upload_url: "/UploadService/UploadFile.ashx",
						post_params: {	"destination" : "filesystem", 
										"token" : "regulacaosinistroauto_upload",
										"destinationfilepath":"//nt2976/sinistro/PastaDigital/temp/",								
										"replaceexistingfile":"true",
										"maxfilesize" :"10024"
										},
										
						file_size_limit : "10000 KB",
						file_types : "*.doc;*.docx;*.jpg;*.pdf;*.png;*.bmp;*.jpeg",			
						file_types_description : "Formatos",
						file_upload_limit : 20,
						file_queue_limit : 20,
						custom_settings : {
							progressTarget : "fsUploadProgress",
							cancelButtonId : "btnCancel"
						},
						debug: false,
		
						// Button settings			
						button_image_url : "resources/upload/procurar.PNG",
						button_width: 75,
						button_height: 20,
						button_action : SWFUpload.BUTTON_ACTION.SELECT_FILES,
						button_cursor : SWFUpload.CURSOR.ARROW,
						button_placeholder_id : "spanButtonPlaceHolder",
					
						// The event handler functions are defined in handlers.js
						swfupload_preload_handler : preLoad,
						swfupload_load_failed_handler : loadFailed,
						file_queued_handler : fileQueued,
						file_queue_error_handler : fileQueueError,
						upload_start_handler : uploadStart,
						upload_progress_handler : uploadProgress,
						upload_error_handler : uploadError,
						upload_success_handler : uploadSuccess
					};
					swfu = new SWFUpload(settings);

			}
			if(document.getElementById("codigoDocumento").value != 280 && document.getElementById("codigoDocumento").value != 281){
				document.getElementById("divDoc280e281").style.visibility = 'hidden';
			}			
			/* Configuracao componente Upload Fim*/
		}		
		
		
		function selecionaArqUpload(){}

		function fimUpload(){
			//atualiza a janela de baixo para exibir os novos arquivos enviados
			//fecha essa janela
			if (testProgress!= 'undefined' && testProgress != null){
			
				var statusUpload = testProgress.getStatus();
				statusUpload = statusUpload.toUpperCase();
				if (statusUpload.lastIndexOf('ENVIANDO')>= 0 || statusUpload.lastIndexOf('PROCESSANDO') >= 0){
					alert("Existem documentos sendo enviados. O fechamento da janela não irá suspender o envio.");
				}
			}
			try{	
				window.opener.carregarAbaDocumentos();
			} catch(e) {}
			window.close();

		}
		
		function destacaTopico(topico){
			var totalDestaque = 6;
		
			for (var i = 1;  i <= totalDestaque;  i++) {
				if (i == topico) {
					document.getElementById("li"+i).style.backgroundColor = "#E6E6E6";
				}else{
					document.getElementById("li"+i).style.backgroundColor = "#FFFFFF";
				}
			}
		}
			


	</script>


</head>
<body>


<input type="hidden" name="chaveArquivo" id="chaveArquivo">

 <input type="hidden" name="ramoSinistro" id="ramoSinistro" value="553">
 <input type="hidden" name="anoSinistro" id="anoSinistro" value="2021">
 <input type="hidden" name="numeroSinistro" id="numeroSinistro" value="2164">
 <input type="hidden" name="sequenciaSinistro" id="sequenciaSinistro" value="1">
 <input type="hidden" name="codigoDocumento" id="codigoDocumento" value="382">
 <input type="hidden" name="descricaoDocumento" id="descricaoDocumento" value="Documento PDF - 382">
 <input type="hidden" name="identificadorDocumentoProcesso" id="identificadorDocumentoProcesso" value="null">
 <input type="hidden" name="anoVistoria" id="anoVistoria" value="2021">
 <input type="hidden" name="numeroVistoria" id="numeroVistoria" value="2546">
 <input type="hidden" name="flagUploadHabilitado" id="flagUploadHabilitado" value="true">
 <input type="hidden" name="tipoUpload" id="tipoUpload" value="null">
 <input type="hidden" name="codigoUsuario" id="codigoUsuario">
 <input type="hidden" name="tipoSelecao" id="tipoSelecao">

<div id="log"> </div>

		<div id="divConteudo">
		<h1>Automóvel - Acompanhamento de Processos de Sinistro</h1>


	
		<div id="divUploadDesabilitado" style="display:none;">
				<table cellspacing="0" cellpadding="0" border="0" width="550">
					<tbody><tr>
						<td class="borda_canto"></td>
						<td class="borda_horizontal"></td>
						<td class="borda_canto"></td>
					</tr>
					<tr>
						<td class="borda_vertical"></td>
						<td class="fundo">
						<h2>Envio de Documento</h2>
		
							<table class="tabela_dados" width="100%" align="left" border="0">
								<tbody><tr>
									<td colspan="3" align="left"><br>
						No momento o Upload de Documentos pela Web não está disponível. <br>
						Em breve você poderá enviar os documentos novamente.				
						</td>
								</tr>
							</tbody></table>
						</td>
						<td class="borda_vertical"></td>
					</tr>
					<tr>
						<td class="borda_canto"></td>
						<td class="borda_horizontal"></td>
						<td class="borda_canto"></td>
					</tr>
				</tbody></table>
				<br>
				<br>
				<table cellspacing="10" cellpadding="0" border="0" width="550">
					<tbody><tr>
						<td align="right" width="99%"></td>
						<td align="right" width="1%">
							<input type="button" name="btoClose" class="botao" value="Fechar" onclick="window.close();">
						</td>
					</tr>
				</tbody></table>
		</div>
	
		<div id="divUploadHabilitado" style="display: '';">
			<div id="divErroAjuda" style="display: none;">
				<table cellspacing="0" cellpadding="0" border="0" width="550">
						<tbody><tr>
							<td class="borda_canto"></td>
							<td class="borda_horizontal"></td>
							<td class="borda_canto"></td>
						</tr>
						<tr>
							<td class="borda_vertical"></td>
							<td class="fundo">
							<h2>Envio de Documento</h2>
			
								<table class="tabela_dados" width="100%" align="left" border="0">
									<tbody><tr>
										<td colspan="3" align="left"><br>
							Não foi possível carregar o aplicativo de upload de documentos.<br>
							Siga as instruções abaixo e tente novamente: 
							</td>
									</tr>
								<tr>
										<td colspan="3" align="left"><br>
							Instale ou atualize o Flash Player: <a href="http://get.adobe.com/br/flashplayer/">http://get.adobe.com/br/flashplayer/</a>
							</td>
									</tr>
			
							
								</tbody></table>
							</td>
							<td class="borda_vertical"></td>
						</tr>
						<tr>
							<td class="borda_canto"></td>
							<td class="borda_horizontal"></td>
							<td class="borda_canto"></td>
						</tr>
					</tbody></table>
					<br>
					<br>
					<table cellspacing="10" cellpadding="0" border="0" width="550">
						<tbody><tr>
							<td align="right" width="99%"></td>
							<td align="right" width="1%">
								<input type="button" name="btoClose" class="botao" value="Fechar" onclick="window.close();">
							</td>
						</tr>
					</tbody></table>
				
			</div>
		
		
		
		
			<div id="divUpload">
				<div id="cabecalho">
					<table cellspacing="5" width="550">
						<tbody><tr>
							<td class="texto" width="100%" align="justify">Selecione um arquivo nos formatos <b>JPG</b>, <b>JPEG</b>, <b>BMP</b>, <b>PNG</b>, <b>PDF</b>, <b>DOC</b> ou <b>DOCX</b>
							 <br>
								Tamanho máximo: <b>10 MB</b></td>
							<td class="texto" align="right"><br></td>
						</tr>
					</tbody></table>
				</div>	
				<form name="uploadForm" id="uploadForm" enctype="multipart/form-data" action="popupupload.jsp">	

					<table cellspacing="0" cellpadding="0" border="0" width="550">
						<tbody><tr>
							<td class="borda_canto"></td>
							<td class="borda_horizontal"></td>
							<td class="borda_canto"></td>
						</tr>
						<tr>
							<td class="borda_vertical"></td>
							<td class="fundo">
							<h2>Envio de Documento</h2>
			
								<table class="tabela_dados" width="100%" align="left" border="0">
									<tbody><tr>
										<td colspan="3" align="left"><br>
							Documento a ser enviado: <span style="background: #E6E6E6; padding: 1px;font-weight: bold;" id="documentoUpload">
							382 - 
							
							Documento PDF 
							            </span></td>
									</tr>
													
									<tr align="left">
										<td width="60%" align="left"> 
									
											<div class="fieldset flash" id="fsUploadProgress">
												<span class="legend">Páginas desse documento</span>
											<div class="progressWrapper" id="html_1" style="opacity: 1;"><div class="progressContainer blue"><a class="progressCancel" href="#" style="visibility: hidden;"> </a><div class="progressName">pdf.pdf</div><div class="progressBarStatus">Envio completo.</div><div class="progressBarComplete" style=""></div></div></div></div>
											<div id="divStatus"></div>
											
										    <div id="componenteUploadDocsHTML5" class="html5">
											    <input id="envioDocsFileUpload" title="Procurar" type="file" name="files[]" onchange="selecionaArqUpload();" multiple="multiple">
												<input type="button" value="Select an Image" onclick="$('#envioDocsFileUpload').click();">
											    <img id="imagemEnvioDocsAux" style="display: none;">
										    </div>				

											<div id="swfuploadControlNotaFiscal">
												<span id="spanButtonPlaceHolder"></span>
									
											</div>											 
											 
										</td>
										<td width="15%" align="left">
											
										</td>											
									</tr>
			
							
								</tbody></table>
							</td>
							<td class="borda_vertical">
							
								<div id="janela" style="display: '';width: 120px;">
									<div id="barra">
										<span>Dúvidas no envio de documentos?
											<br><a href="#" onclick="abrirAjudaUploadDocumentos();">Clique aqui! &nbsp;&nbsp;<img src="resources/images/ir.gif" border="0"></a>
										</span>
										
									</div>
				
								</div>
												
							</td>
						</tr>
						<tr>
							<td class="borda_canto"></td>
							<td class="borda_horizontal"></td>
							<td class="borda_canto"></td>
						</tr>
						
					</tbody></table>
					<table>
						<tbody><tr>
							<td><font color="red"><strong>Caro cliente, para agilizar a análise do seu processo, evite incluir arquivos que não tem relação ao documento solicitado!</strong></font></td>
						</tr>
					</tbody></table>
					<div id="divDoc280e281" style="visibility: hidden;">
						<table cellspacing="10" cellpadding="0" border="0" width="550">
						<tbody><tr>
						<td colspan="2">O cliente prestou informações exigidas pela Circular SUSEP 445/2012?</td>
						</tr>
						<tr>
						<td><input type="radio" value="Sim" name="radioDoc" id="radioSim">Sim<input type="radio" value="Não" name="radioDoc" id="radioNao">Não</td>
						</tr>
						
						</tbody></table>
					</div>
					<table cellspacing="10" cellpadding="0" border="0" width="550">
						<tbody><tr>
							<td align="right" width="99%">
								<input type="button" id="btnSubmit" name="btnSubmit" class="botao" value="Enviar documento" onclick="trataTipoDoc();">
															
							</td>
							<td align="right" width="1%">
								<input type="button" name="btoClose" class="botao" value="Fechar" onclick="fimUpload();">
							</td>
						</tr>
					</tbody></table>
				
				</form>
			</div>	
		</div>
	
	</div>	

	<script>
		//precisa ficar aqui no final da  página, para executar após o carregamento da página
		document.getElementById("numeroSinistro").value='2164';
		document.getElementById("anoSinistro").value='2021';
		document.getElementById("ramoSinistro").value='553';
		document.getElementById("sequenciaSinistro").value='1';
		document.getElementById("codigoDocumento").value='382';
		document.getElementById("descricaoDocumento").value='Documento PDF - 382';
		document.getElementById("identificadorDocumentoProcesso").value='null';
		document.getElementById("anoVistoria").value='2021';
		document.getElementById("numeroVistoria").value='2546';	
		document.getElementById("flagUploadHabilitado").value='true';
		document.getElementById("tipoUpload").value='null';
		
		if (document.getElementById("flagUploadHabilitado").value == 'false'){
			document.getElementById("divUploadDesabilitado").style.display = "";
			document.getElementById("divUploadHabilitado").style.display = "none";
		}	
			
	</script>

	


		</body>